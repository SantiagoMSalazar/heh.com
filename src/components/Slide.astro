---
const images: string[] = [
  "src/assets/img/aloag.jpg",
  "src/assets/img/chongo.jpg",
  "src/assets/img/inca.jpg",
  "src/assets/img/quevedo.jpg",
];
---

<div class="relative w-full mx-auto">
  <div id="slider" class="relative h-[400px]"> <!-- Ajusta la altura segÃºn tus necesidades -->
    {images.map((src, index) => (
      <div class="absolute top-0 left-0 w-full h-full opacity-0 transition-opacity duration-500 ease-in-out" data-key={index}>
        <img src={src} alt={`Imagen ${index + 1}`} class="w-full h-full object-cover"/>
      </div>
    ))}
  </div>
  <button id="prevBtn" class="absolute top-1/2 left-0 transform -translate-y-1/2 bg-black bg-opacity-50 text-white px-4 py-2 z-10">&#10094;</button>
  <button id="nextBtn" class="absolute top-1/2 right-0 transform -translate-y-1/2 bg-black bg-opacity-50 text-white px-4 py-2 z-10">&#10095;</button>
</div>

<script>
  const slider = document.getElementById('slider') as HTMLElement;
  const slides = Array.from(slider.children) as HTMLElement[];
  const totalSlides = slides.length;
  let currentIndex = 0;

  function showSlide(index: number) {
    slides.forEach((slide, i) => {
      if (i === index) {
        slide.style.opacity = '1';
        slide.style.zIndex = '1';
      } else {
        slide.style.opacity = '0';
        slide.style.zIndex = '0';
      }
    });
  }

  function nextSlide() {
    currentIndex = (currentIndex + 1) % totalSlides;
    showSlide(currentIndex);
  }

  function prevSlide() {
    currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
    showSlide(currentIndex);
  }

  document.getElementById('nextBtn')?.addEventListener('click', nextSlide);
  document.getElementById('prevBtn')?.addEventListener('click', prevSlide);
  showSlide(currentIndex);
</script>